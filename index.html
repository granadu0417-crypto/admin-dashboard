<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‚¬ì´íŠ¸ ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ - í†µí•© ë¶„ì„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        /* ë¡œê·¸ì¸ í˜ì´ì§€ ìŠ¤íƒ€ì¼ */
        .login-container {
            max-width: 400px;
            margin: 100px auto;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .login-container h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2em;
        }

        .login-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            color: #555;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .form-group input {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .login-btn {
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .error-message {
            color: #dc3545;
            background: #f8d7da;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            display: none;
        }

        .logout-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px 20px;
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid white;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .logout-btn:hover {
            background: white;
            color: #667eea;
        }

        /* ëŒ€ì‹œë³´ë“œ ìŠ¤íƒ€ì¼ */
        .dashboard {
            display: none;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.1em;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 3em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #666;
            font-size: 1.1em;
        }

        .stat-sublabel {
            color: #999;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .sites-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .site-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }

        .site-card:hover {
            transform: translateY(-5px);
        }

        .site-card.excellent {
            border-left: 5px solid #28a745;
        }

        .site-card.good {
            border-left: 5px solid #ffc107;
        }

        .site-card.needs-work {
            border-left: 5px solid #dc3545;
        }

        .site-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .site-icon {
            font-size: 2.5em;
            margin-right: 15px;
        }

        .site-title {
            color: #667eea;
            font-size: 1.5em;
            font-weight: 600;
        }

        .site-description {
            color: #666;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .performance-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .badge-excellent {
            background: #d4edda;
            color: #155724;
        }

        .badge-good {
            background: #fff3cd;
            color: #856404;
        }

        .badge-needs-work {
            background: #f8d7da;
            color: #721c24;
        }

        .site-metrics {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 15px;
        }

        .metric-box {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
        }

        .metric-value {
            font-weight: bold;
            color: #667eea;
            font-size: 1.3em;
            margin-bottom: 3px;
        }

        .metric-label {
            font-size: 0.85em;
            color: #666;
        }

        .metric-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            text-align: center;
            font-size: 1em;
            margin-top: 5px;
        }

        .metric-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .site-url {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .site-url:focus {
            outline: none;
            border-color: #667eea;
        }

        .button-group {
            display: flex;
            gap: 10px;
        }

        .btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            text-align: center;
            display: inline-block;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn-secondary:hover {
            background: #667eea;
            color: white;
        }

        .guide-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        .guide-section h2 {
            color: #667eea;
            margin-bottom: 20px;
        }

        .guide-section h3 {
            color: #555;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .guide-section p {
            color: #666;
            line-height: 1.8;
            margin-bottom: 10px;
        }

        .guide-section ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .guide-section li {
            color: #666;
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
        }

        .status-online {
            background: #28a745;
            box-shadow: 0 0 8px #28a745;
        }

        .status-offline {
            background: #dc3545;
            box-shadow: 0 0 8px #dc3545;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .sites-grid {
                grid-template-columns: 1fr;
            }

            .stat-number {
                font-size: 2em;
            }

            .logout-btn {
                position: static;
                margin-bottom: 20px;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- ë¡œê·¸ì¸ í˜ì´ì§€ -->
    <div id="loginPage" class="login-container">
        <h1>ğŸ” ê´€ë¦¬ì ë¡œê·¸ì¸</h1>
        <div class="error-message" id="errorMessage">ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.</div>
        <form class="login-form" onsubmit="return login(event)">
            <div class="form-group">
                <label for="username">ì•„ì´ë””</label>
                <input type="text" id="username" required autocomplete="username">
            </div>
            <div class="form-group">
                <label for="password">ë¹„ë°€ë²ˆí˜¸</label>
                <input type="password" id="password" required autocomplete="current-password">
            </div>
            <button type="submit" class="login-btn">ë¡œê·¸ì¸</button>
        </form>
    </div>

    <!-- ëŒ€ì‹œë³´ë“œ -->
    <div id="dashboardPage" class="dashboard">
        <button class="logout-btn" onclick="logout()">ğŸšª ë¡œê·¸ì•„ì›ƒ</button>

        <div class="container">
            <header>
                <h1>ğŸ“Š ì‚¬ì´íŠ¸ ì„±ê³¼ ëŒ€ì‹œë³´ë“œ</h1>
                <p class="subtitle">100ê°œ ê³„ì‚°ê¸° ì‚¬ì´íŠ¸ ìˆ˜ìµí™” í”„ë¡œì íŠ¸</p>
            </header>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalSites">11</div>
                    <div class="stat-label">ìš´ì˜ ì¤‘ì¸ ì‚¬ì´íŠ¸</div>
                    <div class="stat-sublabel">ëª©í‘œ: 100ê°œ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="todayVisitors">0</div>
                    <div class="stat-label">ì˜¤ëŠ˜ ë°©ë¬¸ì</div>
                    <div class="stat-sublabel">ì‹¤ì‹œê°„ ì§‘ê³„</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="monthlyVisitors">0</div>
                    <div class="stat-label">ì´ë²ˆ ë‹¬ ë°©ë¬¸ì</div>
                    <div class="stat-sublabel">ëˆ„ì  í†µê³„</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="estimatedRevenue">â‚©0</div>
                    <div class="stat-label">ì˜ˆìƒ ì›” ìˆ˜ìµ</div>
                    <div class="stat-sublabel">AdSense ê¸°ì¤€</div>
                </div>
            </div>

            <div class="sites-grid" id="sitesGrid">
                <!-- ì‚¬ì´íŠ¸ ì¹´ë“œë“¤ì´ ì—¬ê¸° ë“¤ì–´ê° -->
            </div>

            <div class="guide-section">
                <h2>ğŸ“ˆ ë°ì´í„° ì…ë ¥ ê°€ì´ë“œ</h2>

                <h3>âœï¸ ìˆ˜ë™ ì…ë ¥ (í˜„ì¬)</h3>
                <p>ê° ì‚¬ì´íŠ¸ ì¹´ë“œì—ì„œ ì§ì ‘ ìˆ˜ì¹˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”:</p>
                <ul>
                    <li><strong>ì¼ì¼ ë°©ë¬¸ì:</strong> Cloudflare Analyticsì—ì„œ í™•ì¸</li>
                    <li><strong>ëˆ„ì  ë°©ë¬¸ì:</strong> ì „ì²´ ê¸°ê°„ í•©ê³„</li>
                    <li><strong>í‰ê·  ì²´ë¥˜ì‹œê°„:</strong> Google Analytics ì°¸ê³ </li>
                    <li><strong>ì‚¬ì´íŠ¸ URL:</strong> Cloudflare Pages ë°°í¬ URL</li>
                </ul>

                <h3>ğŸ”— Cloudflare Analytics í™•ì¸ ë°©ë²•</h3>
                <p>1. https://dash.cloudflare.com ì ‘ì†<br>
                2. Pages ë©”ë‰´ í´ë¦­<br>
                3. ê° ì‚¬ì´íŠ¸ ì„ íƒ<br>
                4. Analytics íƒ­ì—ì„œ ë°©ë¬¸ì ìˆ˜ í™•ì¸</p>

                <h3>ğŸš€ ë‚˜ì¤‘ì— ìë™í™” ì˜ˆì •</h3>
                <ul>
                    <li>Google Analytics API ì—°ë™</li>
                    <li>ì‹¤ì‹œê°„ ë°©ë¬¸ì ìë™ ì—…ë°ì´íŠ¸</li>
                    <li>AdSense ìˆ˜ìµ ìë™ ì§‘ê³„</li>
                    <li>ì‚¬ì´íŠ¸ ìƒíƒœ ìë™ ëª¨ë‹ˆí„°ë§</li>
                </ul>
            </div>

            <div class="guide-section">
                <h2>ğŸ’° ìˆ˜ìµí™” ë¡œë“œë§µ</h2>

                <h3>1ë‹¨ê³„: SEO ìµœì í™” (ì™„ë£Œ! âœ…)</h3>
                <ul>
                    <li>sitemap.xml ìƒì„±</li>
                    <li>robots.txt ì„¤ì •</li>
                    <li>Google Search Console ë“±ë¡ í•„ìš”</li>
                </ul>

                <h3>2ë‹¨ê³„: íŠ¸ë˜í”½ í™•ë³´ (ì§„í–‰ ì¤‘)</h3>
                <ul>
                    <li>ìì—° ê²€ìƒ‰ ìœ ì… ëŒ€ê¸° (1~2ì£¼)</li>
                    <li>ì‚¬ì´íŠ¸ë³„ ì¼ 100ëª… ëª©í‘œ</li>
                    <li>11ê°œ ì‚¬ì´íŠ¸ Ã— 100ëª… = ì¼ 1,100ëª…</li>
                </ul>

                <h3>3ë‹¨ê³„: AdSense ìŠ¹ì¸</h3>
                <ul>
                    <li>íŠ¸ë˜í”½ ì•ˆì •í™” í›„ ì‹ ì²­</li>
                    <li>ìŠ¹ì¸ê¹Œì§€ 2ì£¼~1ê°œì›” ì†Œìš”</li>
                    <li>ì˜ˆìƒ ìˆ˜ìµ: ì¼ 1,100ëª… Ã— â‚©500 = ì›” 16ë§Œì›</li>
                </ul>

                <h3>ìµœì¢… ëª©í‘œ: 100ê°œ ì‚¬ì´íŠ¸</h3>
                <ul>
                    <li>100ê°œ Ã— ì¼ 100ëª… = ì¼ 10,000ëª…</li>
                    <li>ì˜ˆìƒ ì›” ìˆ˜ìµ: â‚©150ë§Œì› ~ â‚©300ë§Œì› ğŸ’</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // ì‚¬ì´íŠ¸ ë°ì´í„°
        const sites = [
            {
                icon: 'ğŸ“ˆ',
                title: 'ì£¼ì‹ ì„¸ê¸ˆ ê³„ì‚°ê¸°',
                description: 'ì–‘ë„ì†Œë“ì„¸, ë°°ë‹¹ì†Œë“ì„¸, ì¦ì—¬ì„¸ ê³„ì‚°',
                date: '2025-01-19',
                folder: 'stock-tax-calculator',
                url: 'https://stock-tax.pages.dev',
                dailyVisitors: 0,
                totalVisitors: 0,
                avgTime: '0:00',
                status: 'online'
            },
            {
                icon: 'ğŸš—',
                title: 'ìë™ì°¨ì„¸ ê³„ì‚°ê¸°',
                description: 'ìë™ì°¨ì„¸, ì·¨ë“ì„¸, í™˜ê²½ê°œì„ ë¶€ë‹´ê¸ˆ',
                date: '2025-01-19',
                folder: 'car-tax-calculator',
                url: 'https://car-tax-calculator.pages.dev',
                dailyVisitors: 0,
                totalVisitors: 0,
                avgTime: '0:00',
                status: 'online'
            },
            {
                icon: 'ğŸ’¼',
                title: 'ì¢…í•©ì†Œë“ì„¸ ê³„ì‚°ê¸°',
                description: 'ê·¼ë¡œì†Œë“, ì‚¬ì—…ì†Œë“, ê¸°íƒ€ì†Œë“',
                date: '2025-01-19',
                folder: 'income-tax-calculator',
                url: 'https://income-tax-calculator.pages.dev',
                dailyVisitors: 0,
                totalVisitors: 0,
                avgTime: '0:00',
                status: 'online'
            },
            {
                icon: 'â°',
                title: 'ìµœì €ì‹œê¸‰ ê³„ì‚°ê¸°',
                description: 'ì‹œê¸‰, ì¼ê¸‰, ì›”ê¸‰ ê³„ì‚°',
                date: '2025-01-19',
                folder: 'minimum-wage-calculator',
                url: 'https://minimum-wage-calculator.pages.dev',
                dailyVisitors: 0,
                totalVisitors: 0,
                avgTime: '0:00',
                status: 'online'
            },
            {
                icon: 'ğŸ ',
                title: 'ë¶€ë™ì‚° ì„¸ê¸ˆ ê³„ì‚°ê¸°',
                description: 'ì·¨ë“ì„¸, ì–‘ë„ì†Œë“ì„¸, ì¬ì‚°ì„¸',
                date: '2025-01-19',
                folder: 'real-estate-tax-calculator',
                url: 'https://real-estate-tax-calculator.pages.dev',
                dailyVisitors: 0,
                totalVisitors: 0,
                avgTime: '0:00',
                status: 'online'
            },
            {
                icon: 'ğŸ¥',
                title: 'ê±´ê°•ë³´í—˜ë£Œ ê³„ì‚°ê¸°',
                description: 'ì§ì¥ê°€ì…ì, ì§€ì—­ê°€ì…ì',
                date: '2025-01-19',
                folder: 'health-insurance-calculator',
                url: 'https://health-insurance-calculator.pages.dev',
                dailyVisitors: 0,
                totalVisitors: 0,
                avgTime: '0:00',
                status: 'online'
            },
            {
                icon: 'ğŸ’µ',
                title: 'ì›”ê¸‰ ì‹¤ìˆ˜ë ¹ì•¡ ê³„ì‚°ê¸°',
                description: 'ì‹¤ìˆ˜ë ¹ì•¡, ê³µì œì•¡ ê³„ì‚°',
                date: '2025-01-19',
                folder: 'salary-calculator',
                url: 'https://salary-calculator.pages.dev',
                dailyVisitors: 0,
                totalVisitors: 0,
                avgTime: '0:00',
                status: 'online'
            },
            {
                icon: 'ğŸ¯',
                title: 'í‡´ì§ê¸ˆ ê³„ì‚°ê¸°',
                description: 'í‡´ì§ê¸ˆ, í‡´ì§ì—°ê¸ˆ, í‡´ì§ì†Œë“ì„¸',
                date: '2025-01-19',
                folder: 'retirement-calculator',
                url: 'https://retirement-calculator.pages.dev',
                dailyVisitors: 0,
                totalVisitors: 0,
                avgTime: '0:00',
                status: 'online'
            },
            {
                icon: 'ğŸ’°',
                title: 'ì£¼íƒë‹´ë³´ëŒ€ì¶œ ê³„ì‚°ê¸°',
                description: 'ëŒ€ì¶œ í•œë„, ì´ì, ìƒí™˜ ê³„ì‚°',
                date: '2025-01-19',
                folder: 'loan-calculator',
                url: 'https://loan-calculator.pages.dev',
                dailyVisitors: 0,
                totalVisitors: 0,
                avgTime: '0:00',
                status: 'online'
            },
            {
                icon: 'ğŸ’¼',
                title: 'ì‹¤ì—…ê¸‰ì—¬ ê³„ì‚°ê¸°',
                description: 'êµ¬ì§ê¸‰ì—¬, ìˆ˜ê¸‰ìê²©, ì—°ì¥ê¸‰ì—¬',
                date: '2025-01-19',
                folder: 'unemployment-benefit-calculator',
                url: 'https://unemployment-benefit-calculator.pages.dev',
                dailyVisitors: 0,
                totalVisitors: 0,
                avgTime: '0:00',
                status: 'online'
            },
            {
                icon: 'ğŸ“Š',
                title: 'ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ',
                description: 'ì‚¬ì´íŠ¸ í†µí•© ê´€ë¦¬ ì‹œìŠ¤í…œ',
                date: '2025-01-19',
                folder: 'admin-dashboard',
                url: 'https://admin-dashboard-210.pages.dev',
                dailyVisitors: 0,
                totalVisitors: 0,
                avgTime: '0:00',
                status: 'online'
            }
        ];

        // ë¡œê·¸ì¸ í•¨ìˆ˜
        function login(event) {
            event.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (username === 'granadu' && password === '1111') {
                localStorage.setItem('isLoggedIn', 'true');
                showDashboard();
                return false;
            } else {
                document.getElementById('errorMessage').style.display = 'block';
                return false;
            }
        }

        // ë¡œê·¸ì•„ì›ƒ í•¨ìˆ˜
        function logout() {
            localStorage.removeItem('isLoggedIn');
            location.reload();
        }

        // ëŒ€ì‹œë³´ë“œ í‘œì‹œ
        function showDashboard() {
            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('dashboardPage').style.display = 'block';
            loadData();
            renderSites();
            updateTotalStats();
        }

        // ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
        function checkAuth() {
            if (localStorage.getItem('isLoggedIn') === 'true') {
                showDashboard();
            }
        }

        // ì‚¬ì´íŠ¸ ë Œë”ë§
        function renderSites() {
            const grid = document.getElementById('sitesGrid');
            grid.innerHTML = '';

            sites.forEach((site, index) => {
                const card = document.createElement('div');

                // ì„±ê³¼ ë“±ê¸‰ íŒë‹¨
                let performanceClass = 'needs-work';
                let performanceBadge = 'badge-needs-work';
                let performanceText = 'ğŸ“ ì„±ì¥ í•„ìš”';

                if (site.dailyVisitors >= 100) {
                    performanceClass = 'excellent';
                    performanceBadge = 'badge-excellent';
                    performanceText = 'ğŸ”¥ ìš°ìˆ˜';
                } else if (site.dailyVisitors >= 50) {
                    performanceClass = 'good';
                    performanceBadge = 'badge-good';
                    performanceText = 'âœ¨ ì–‘í˜¸';
                }

                card.className = `site-card ${performanceClass}`;

                const statusClass = site.status === 'online' ? 'status-online' : 'status-offline';
                const statusText = site.status === 'online' ? 'ì˜¨ë¼ì¸' : 'ì˜¤í”„ë¼ì¸';

                card.innerHTML = `
                    <span class="performance-badge ${performanceBadge}">${performanceText}</span>
                    <div class="site-header">
                        <div class="site-icon">${site.icon}</div>
                        <div>
                            <div class="site-title">${site.title}</div>
                            <small><span class="status-indicator ${statusClass}"></span>${statusText}</small>
                        </div>
                    </div>
                    <p class="site-description">${site.description}</p>

                    <div class="site-metrics">
                        <div class="metric-box">
                            <div class="metric-label">ì¼ì¼ ë°©ë¬¸ì (ì–´ì œ)</div>
                            <input
                                type="number"
                                class="metric-input"
                                value="${site.dailyVisitors}"
                                onchange="updateMetric(${index}, 'dailyVisitors', this.value)"
                                placeholder="0"
                            >
                        </div>
                        <div class="metric-box">
                            <div class="metric-label">ëˆ„ì  ë°©ë¬¸ì</div>
                            <input
                                type="number"
                                class="metric-input"
                                value="${site.totalVisitors}"
                                onchange="updateMetric(${index}, 'totalVisitors', this.value)"
                                placeholder="0"
                            >
                        </div>
                        <div class="metric-box">
                            <div class="metric-label">í‰ê·  ì²´ë¥˜ì‹œê°„</div>
                            <input
                                type="text"
                                class="metric-input"
                                value="${site.avgTime}"
                                onchange="updateMetric(${index}, 'avgTime', this.value)"
                                placeholder="0:00"
                            >
                        </div>
                        <div class="metric-box">
                            <div class="metric-label">ë°°í¬ì¼</div>
                            <div class="metric-value" style="font-size: 1em;">${site.date}</div>
                        </div>
                    </div>

                    <input
                        type="text"
                        class="site-url"
                        placeholder="ì‚¬ì´íŠ¸ URL"
                        value="${site.url}"
                        onchange="updateURL(${index}, this.value)"
                    >
                    <div class="button-group">
                        <a href="${site.url || '#'}" target="_blank" class="btn btn-primary" ${!site.url ? 'style="pointer-events: none; opacity: 0.5;"' : ''}>
                            ğŸŒ ì‚¬ì´íŠ¸ ë°©ë¬¸
                        </a>
                        <button class="btn btn-secondary" onclick="openAnalytics('${site.folder}')">
                            ğŸ“Š Analytics
                        </button>
                    </div>
                `;

                grid.appendChild(card);
            });
        }

        // ì§€í‘œ ì—…ë°ì´íŠ¸
        function updateMetric(index, field, value) {
            sites[index][field] = field === 'avgTime' ? value : parseInt(value) || 0;
            saveData();
            updateTotalStats();
            renderSites();
        }

        // URL ì—…ë°ì´íŠ¸
        function updateURL(index, url) {
            sites[index].url = url;
            saveData();
        }

        // ì „ì²´ í†µê³„ ì—…ë°ì´íŠ¸
        function updateTotalStats() {
            const totalDaily = sites.reduce((sum, site) => sum + (site.dailyVisitors || 0), 0);
            const totalMonthly = sites.reduce((sum, site) => sum + (site.totalVisitors || 0), 0);
            const estimatedRevenue = totalDaily * 30 * 500; // ì¼ì¼ ë°©ë¬¸ì Ã— 30ì¼ Ã— 500ì›

            document.getElementById('todayVisitors').textContent = totalDaily.toLocaleString();
            document.getElementById('monthlyVisitors').textContent = totalMonthly.toLocaleString();
            document.getElementById('estimatedRevenue').textContent = 'â‚©' + estimatedRevenue.toLocaleString();
        }

        // ë°ì´í„° ì €ì¥
        function saveData() {
            localStorage.setItem('dashboardData', JSON.stringify(sites));
        }

        // ë°ì´í„° ë¡œë“œ
        function loadData() {
            const savedData = localStorage.getItem('dashboardData');
            if (savedData) {
                const loaded = JSON.parse(savedData);
                sites.forEach((site, index) => {
                    if (loaded[index]) {
                        site.dailyVisitors = loaded[index].dailyVisitors || 0;
                        site.totalVisitors = loaded[index].totalVisitors || 0;
                        site.avgTime = loaded[index].avgTime || '0:00';
                        site.url = loaded[index].url || site.url;
                    }
                });
            }
        }

        function openAnalytics(folder) {
            alert(`Cloudflare Analytics í™•ì¸:\n\n1. dash.cloudflare.com ì ‘ì†\n2. Pages ì„ íƒ\n3. "${folder}" í´ë¦­\n4. Analytics íƒ­ í™•ì¸`);
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì¸ì¦ í™•ì¸
        checkAuth();
    </script>
</body>
</html>
