<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>사이트 관리 대시보드 - 통합 분석</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.1em;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
        }

        .stat-number {
            font-size: 3em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #666;
            font-size: 1.1em;
        }

        .sites-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .site-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }

        .site-card:hover {
            transform: translateY(-5px);
        }

        .site-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .site-icon {
            font-size: 2.5em;
            margin-right: 15px;
        }

        .site-title {
            color: #667eea;
            font-size: 1.5em;
            font-weight: 600;
        }

        .site-description {
            color: #666;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .site-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .meta-item {
            text-align: center;
        }

        .meta-value {
            font-weight: bold;
            color: #667eea;
            font-size: 1.2em;
        }

        .meta-label {
            font-size: 0.85em;
            color: #666;
        }

        .site-url {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .site-url:focus {
            outline: none;
            border-color: #667eea;
        }

        .button-group {
            display: flex;
            gap: 10px;
        }

        .btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            text-align: center;
            display: inline-block;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn-secondary:hover {
            background: #667eea;
            color: white;
        }

        .guide-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        .guide-section h2 {
            color: #667eea;
            margin-bottom: 20px;
        }

        .guide-section h3 {
            color: #555;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .guide-section p {
            color: #666;
            line-height: 1.8;
            margin-bottom: 10px;
        }

        .guide-section ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .guide-section li {
            color: #666;
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .code-box {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            margin: 15px 0;
            overflow-x: auto;
        }

        .code-box code {
            color: #333;
            font-family: 'Courier New', monospace;
        }

        .status-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .status-deployed {
            background: #d4edda;
            color: #155724;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .sites-grid {
                grid-template-columns: 1fr;
            }

            .stat-number {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>📊 사이트 관리 대시보드</h1>
            <p class="subtitle">모든 계산기 사이트를 한눈에 관리하세요</p>
        </header>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number" id="totalSites">6</div>
                <div class="stat-label">총 사이트 수</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalPages">30</div>
                <div class="stat-label">총 페이지 수</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalLines">9,529</div>
                <div class="stat-label">총 코드 라인</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">100</div>
                <div class="stat-label">목표 사이트 수</div>
            </div>
        </div>

        <div class="sites-grid" id="sitesGrid">
            <!-- 사이트 카드들이 여기 들어감 -->
        </div>

        <div class="guide-section">
            <h2>📈 분석 도구 설정 가이드</h2>
            
            <h3>1️⃣ Cloudflare Analytics (무료, 추천!)</h3>
            <p><strong>각 사이트별로 자동 제공되는 무료 분석:</strong></p>
            <ul>
                <li>실시간 방문자 수</li>
                <li>페이지뷰, 고유 방문자</li>
                <li>국가별, 브라우저별 통계</li>
                <li>대역폭 사용량</li>
            </ul>
            <p><strong>확인 방법:</strong></p>
            <div class="code-box">
                <code>
                1. Cloudflare 대시보드 → Pages 선택<br>
                2. 각 사이트 클릭<br>
                3. "Analytics" 탭 클릭<br>
                4. 실시간 데이터 확인!
                </code>
            </div>

            <h3>2️⃣ Google Analytics 4 (GA4) 설정</h3>
            <p><strong>100개 사이트 통합 분석에 필수!</strong></p>
            
            <p><strong>Step 1: GA4 계정 생성</strong></p>
            <ul>
                <li>analytics.google.com 접속</li>
                <li>"측정 시작" 클릭</li>
                <li>계정 이름: "계산기 사이트 모음" (예시)</li>
                <li>속성 생성 (한국, KRW 선택)</li>
            </ul>

            <p><strong>Step 2: 추적 코드 받기</strong></p>
            <div class="code-box">
                <code>
                관리 → 데이터 스트림 → 웹 스트림 추가<br>
                → 측정 ID 복사 (G-XXXXXXXXXX)
                </code>
            </div>

            <p><strong>Step 3: HTML에 코드 삽입 (각 사이트 &lt;head&gt; 태그 안)</strong></p>
            <div class="code-box">
                <code>
&lt;!-- Google Analytics 4 --&gt;<br>
&lt;script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"&gt;&lt;/script&gt;<br>
&lt;script&gt;<br>
  window.dataLayer = window.dataLayer || [];<br>
  function gtag(){dataLayer.push(arguments);}<br>
  gtag('js', new Date());<br>
  gtag('config', 'G-XXXXXXXXXX');<br>
&lt;/script&gt;
                </code>
            </div>

            <p><strong>Step 4: 통합 대시보드 확인</strong></p>
            <ul>
                <li>GA4 홈 → 모든 사이트 통합 조회수 확인</li>
                <li>실시간 사용자, 페이지별 조회수</li>
                <li>유입 경로, 체류 시간 분석</li>
                <li>사이트별 비교 분석</li>
            </ul>

            <h3>3️⃣ 나중에 AdSense 연동</h3>
            <p>조회수가 쌓이면 광고 수익 창출!</p>
            <ul>
                <li>GA4로 트래픽 확인 후 AdSense 신청</li>
                <li>사이트당 일 100~1000 방문자 목표</li>
                <li>100개 사이트 × 평균 500명 = 일 50,000명</li>
                <li>예상 월 수익: 50만원~100만원 🎯</li>
            </ul>
        </div>

        <div class="guide-section">
            <h2>🔧 사이트 추가 방법</h2>
            <p>새 사이트를 만들었을 때 이 대시보드 업데이트하는 법:</p>
            <div class="code-box">
                <code>
1. 이 HTML 파일 열기<br>
2. 아래 JavaScript의 sites 배열에 새 사이트 정보 추가<br>
3. Git commit + 배포<br>
4. 끝!
                </code>
            </div>
        </div>
    </div>

    <script>
        // 사이트 데이터 (새 사이트 추가 시 여기에 추가하면 됨!)
        const sites = [
            {
                icon: '📈',
                title: '주식 세금 계산기',
                description: '양도소득세, 배당소득세, 증여세 계산',
                pages: 5,
                lines: 1122,
                date: '2025-10-19',
                folder: 'stock-tax-calculator',
                url: '', // Cloudflare URL 입력
                status: 'deployed'
            },
            {
                icon: '💰',
                title: '대출 계산기',
                description: '주택담보대출, 전세자금대출, 신용대출',
                pages: 5,
                lines: 1089,
                date: '2025-10-19',
                folder: 'loan-calculator',
                url: '',
                status: 'deployed'
            },
            {
                icon: '🎯',
                title: '퇴직금 계산기',
                description: '퇴직금, 퇴직연금, 퇴직소득세',
                pages: 5,
                lines: 1156,
                date: '2025-10-19',
                folder: 'retirement-calculator',
                url: '',
                status: 'deployed'
            },
            {
                icon: '🏥',
                title: '건강보험료 계산기',
                description: '직장가입자, 지역가입자, 피부양자',
                pages: 5,
                lines: 1122,
                date: '2025-10-19',
                folder: 'health-insurance-calculator',
                url: '',
                status: 'deployed'
            },
            {
                icon: '🏠',
                title: '부동산세금 계산기',
                description: '취득세, 양도소득세, 재산세, 등록세',
                pages: 5,
                lines: 2191,
                date: '2025-10-19',
                folder: 'real-estate-tax-calculator',
                url: '',
                status: 'deployed'
            },
            {
                icon: '💼',
                title: '실업급여 계산기',
                description: '구직급여, 수급자격, 연장급여',
                pages: 5,
                lines: 1803,
                date: '2025-10-19',
                folder: 'unemployment-benefit-calculator',
                url: '',
                status: 'deployed'
            }
        ];

        function renderSites() {
            const grid = document.getElementById('sitesGrid');
            grid.innerHTML = '';

            sites.forEach((site, index) => {
                const card = document.createElement('div');
                card.className = 'site-card';
                
                const statusClass = site.status === 'deployed' ? 'status-deployed' : 'status-pending';
                const statusText = site.status === 'deployed' ? '✅ 배포 완료' : '⏳ 배포 대기';

                card.innerHTML = `
                    <span class="status-badge ${statusClass}">${statusText}</span>
                    <div class="site-header">
                        <div class="site-icon">${site.icon}</div>
                        <div class="site-title">${site.title}</div>
                    </div>
                    <p class="site-description">${site.description}</p>
                    <div class="site-meta">
                        <div class="meta-item">
                            <div class="meta-value">${site.pages}</div>
                            <div class="meta-label">페이지</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-value">${site.lines.toLocaleString()}</div>
                            <div class="meta-label">코드 라인</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-value">${site.date}</div>
                            <div class="meta-label">배포일</div>
                        </div>
                    </div>
                    <input 
                        type="text" 
                        class="site-url" 
                        placeholder="Cloudflare Pages URL 입력 (예: https://${site.folder}.pages.dev)"
                        value="${site.url}"
                        onchange="updateURL(${index}, this.value)"
                    >
                    <div class="button-group">
                        <a href="${site.url || '#'}" target="_blank" class="btn btn-primary" ${!site.url ? 'style="pointer-events: none; opacity: 0.5;"' : ''}>
                            🌐 사이트 방문
                        </a>
                        <button class="btn btn-secondary" onclick="openAnalytics('${site.folder}')">
                            📊 Analytics
                        </button>
                    </div>
                `;
                
                grid.appendChild(card);
            });

            // 로컬 스토리지에서 URL 불러오기
            loadURLs();
        }

        function updateURL(index, url) {
            sites[index].url = url;
            localStorage.setItem('siteURLs', JSON.stringify(sites.map(s => s.url)));
            renderSites();
        }

        function loadURLs() {
            const savedURLs = localStorage.getItem('siteURLs');
            if (savedURLs) {
                const urls = JSON.parse(savedURLs);
                sites.forEach((site, index) => {
                    if (urls[index]) {
                        site.url = urls[index];
                    }
                });
                renderSites();
            }
        }

        function openAnalytics(folder) {
            alert(`Cloudflare Analytics 확인 방법:\n\n1. Cloudflare 대시보드 접속\n2. Pages 메뉴 선택\n3. "${folder}" 클릭\n4. "Analytics" 탭 클릭`);
        }

        // 페이지 로드 시 렌더링
        renderSites();
    </script>
</body>
</html>